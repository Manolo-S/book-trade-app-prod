!function(e){function s(o){if(t[o])return t[o].exports;var r=t[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,s),r.loaded=!0,r.exports}var t={};return s.m=e,s.c=t,s.p="/public/assets/js/",s(0)}([function(e,s){"use strict";!function(){function e(e){var o=e.requests;o.map(s),""===$(".requests-others").html()&&$(".requests-others").html('<h4 class="container"> No requests at the moment</h4>'),""===$(".requests-mine").html()&&$(".requests-mine").html('<h4 class="container"> No requests at the moment</h4>'),$(".remove-button").click(function(e){var s=$(e.target),o=s.parents(".swap").find(".offered-book").text(),o=o.split(","),a=o[0],n=o[1],i=o[2]+","+o[3]+","+o[4];console.log(r,i,a,n),s.parents(".swap").remove(),$.post(t,{user:r,industryIdentifier:a,timestamp:n,otherPartyUsername:i})})}function s(e){for(var s=e.offeredBook.owner===r?".requests-mine":".requests-others",t=[e.offeredBook,e.requestedBook],o=r===e.offeredBook.owner?e.requestedBook.owner:e.offeredBook.owner,a='<div class="swap container">',n=0;n<t.length;n++){var i=t[n],u=i.owner.split(",")[2];0===n&&r===i.owner&&(a+="<h4>I'll swap:</h4>"),0===n&&r!==i.owner&&(a+='<h4>User <span class="username">'+u+"</span> would like to swap:</h4>"),1===n&&(a+="<h4>For:</h4>"),a+='<div class="book">',a+='<div class="row">',a+='<div class="col-sm-3">',i.image&&"no-image"!==i.image&&(a+='<img src="'+i.image+'" alt="book cover">'),a+="</div>",a+='<div class="col-sm-9 book-details">',a+='<cite class="book-title">'+i.title+"</cite>",i.authors&&(a+='<p class="authors">by '+i.authors+"</p>"),a+="<p>"+i.publishedDate+"</p>",i.pages&&(a+="<p>"+i.pages+" pages</p>"),a+="<p>Language: "+i.language+"</p>",a+="<p>"+i.industryIdentifier+"</p>",".requests-mine"===s&&0===n&&(a+='<span class="offered-book">'+i.industryIdentifier+","+i.timestamp+","+o+"</span>"),a+="</div>",a+="</div>",a+="</div>"}".requests-mine"===s&&(a+='<button type="button" class="btn btn-danger btn-xs remove-button pull-right">Remove request</button>'),a+="</div>",$(s).append(a)}var t="https://book-trade-ms.herokuapp.com/remove-request",o="https://book-trade-ms.herokuapp.com/requested-books",r=store.get("user");$.post(o,{user:r},e)}()}]);